{
    "name": "locationallocation",
    "title": "Location-Allocation",
    "description": "A component that performs Location Allocation",
    "externalReference": {
        "label": "Documentation",
        "href": "https://docs.carto.com/carto-user-manual/workflows/components/territory-planning#location-allocation"
    },
    "version": "1.0.0",
    "icon": "component-default.svg",
    "cartoEnvVars": ["tempStoragePath"],
    "inputs": [
        {
            "name": "facilities_table",
            "title": "Facilities",
            "description": "",
            "type": "Table"
        },
        {
            "name": "customers_table",
            "title": "Customers",
            "description": "",
            "type": "Table"
        },
        {
            "name": "costs_table",
            "title": "Cost",
            "description": "",
            "type": "Table"
        },
        {
            "name": "constraints_table",
            "title": "Constraints (optional)",
            "description": "",
            "type": "Table",
            "optional": true
        },
        {
            "name": "optimization_strategy",
            "title": "Optimization Strategy",
            "description": "",
            "type": "Selection",
            "options": ["Minimize total cost", "Minimize maximum cost", "Maximize coverage"],
            "default": "Minimize total cost"
        },
        {
            "name": "coverage_radius",
            "title": "Facilities coverage radius",
            "description": "",
            "helper": "",
            "type": "Number",
            "minimum": 0,
            "default": 10,
            "showIf": [
                {"parameter": "optimization_strategy", "value": ["Maximize coverage"]}
            ]
        },
        {
            "name": "required_facilities_bool",
            "title": "Include required facilities",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false
        },
        {
            "name": "competitor_facilities_bool",
            "title": "Include competitor facilities",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false
        },
        {
            "name": "competitor_trade_area",
            "title": "Cost threshold (in cost units)",
            "description": "",
            "helper": "",
            "type": "Number",
            "default": 5,
            "showIf": [
                {"parameter": "competitor_facilities_bool", "value": true}
            ]
        },
        {
            "name": "costopen_facilities_bool",
            "title": "Include opening cost for the facilities",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false,
            "showIf": [
                {"parameter": "optimization_strategy", "value": ["Minimize total cost", "Minimize maximum cost"]}
            ]
        },
        {
            "name": "limit_facilities_bool",
            "title": "Limit the total number of facilities",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false
        },
        {
            "name": "max_facilities",
            "title": "Maximum number of facilities",
            "description": "",
            "helper": "",
            "type": "Number",
            "minimum": 1,
            "default": 5,
            "showIf": [
                {"parameter": "limit_facilities_bool", "value": true}
            ]
        },
        {
            "name": "limit_facilities_group_bool",
            "title": "Limit the number of facilities per group",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false
        },
        {
            "name": "max_facilities_group",
            "title": "Maximum number of facilities",
            "description": "",
            "helper": "",
            "type": "Number",
            "minimum": 1,
            "default": 5,
            "showIf": [
                {"parameter": "limit_facilities_group_bool", "value": true}
            ]
        },
        {
            "name": "demand_bool",
            "title": "Satisfy customers demand",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false
        },
        {
            "name": "facilities_min_capacity_bool",
            "title": "Limit the minimum capacity of the facilities",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false,
            "showIf": [
                {"parameter": "optimization_strategy", "value": ["Minimize total cost", "Minimize maximum cost"]}
            ]
        },
        {
            "name": "facilities_max_capacity_bool",
            "title": "Limit the maximum capacity of the facilities",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false,
            "showIf": [
                {"parameter": "optimization_strategy", "value": ["Minimize total cost", "Minimize maximum cost"]}
            ]
        },
        {
            "name": "compatibility_bool",
            "title": "Force facility-customer relationships",
            "description": "",
            "helper": "",
            "type": "Boolean",
            "default": false,
            "showIf": [
                {"parameter": "optimization_strategy", "value": ["Minimize total cost", "Minimize maximum cost"]}
            ]
        },
        {
            "name": "relative_gap",
            "title": "Relative Gap Tolerance (%)",
            "advanced": true,
            "description": "",
            "helper": "",
            "type": "Number",
            "mode": "slider",
            "min": 0,
            "max": 100,
            "default": 0
        },
        {
            "name": "time_limit",
            "title": "Maximum Solving Time (sec)",
            "advanced": true,
            "description": "",
            "helper": "",
            "type": "Number",
            "mode": "slider",
            "min": 1,
            "max": 7200,
            "default": 3600
        }
    ],
    "outputs": [
        {
            "name": "output_table",
            "title": "Output table",
            "description": "The table with the specified territories",
            "type": "Table"
        },
        {
            "name": "metrics_table",
            "title": "Output table",
            "description": "The table with some metrics",
            "type": "Table"
        }
    ]
}